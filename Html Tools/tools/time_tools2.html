<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>World Map Clocks</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
<script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
<style>
body { background: #e6f0e1; font-family: 'Inter', sans-serif; margin:0; padding:1rem; }
#mapWrapper {
  overflow-x: auto;
  -webkit-overflow-scrolling: touch;
  width: 100%;
}
#mapContainer {
  position: relative;
  width: 1599px;
  height: 799px;
  margin: auto;
  background: url('files/world-map.jpg') no-repeat center center;
  background-size: cover;
  border: 2px solid #14532d;
  border-radius: .5rem;
}

.clock-card {
  position: absolute;
  transform: translate(-50%, -50%);
  width: 120px;
  background: #fff;
  border-radius: .75rem;
  box-shadow: 0 4px 10px rgba(0,0,0,.15);
  text-align: center;
  padding: .5rem;
  transition: transform .2s, background .2s, z-index .2s;
  cursor: pointer;
}
.clock-card.local {
  width: 160px;
  transform: translate(-50%, -50%) scale(1.2);
  background: #0d6efd;
  color: #fff;
}

.clock-card:hover {
  transform: translate(-50%, -50%) scale(1.4);
  background: #198754;
  color: #fff;
  z-index: 999;
}

.clock-time { font-weight: 600; font-size: 1.2rem; margin-bottom: .3rem; }
.clock-city { font-size: .85rem; color: #14532d; }
.clock-card.local:hover { background: #0dcaf0; color: #000; }

@media (max-width: 768px) {
  .clock-card { width: 100px; }
  .clock-card.local { width: 140px; }
}
</style>
</head>
<body>

<div id="mapWrapper">
  <div id="mapContainer"></div>
</div>

<script>
// Pre-calculated positions (x,y) for the uploaded map
const clocks = [
  { city: "Local", tz: Intl.DateTimeFormat().resolvedOptions().timeZone, x: 1340, y: 325, local:true },
  { city: "New York", tz: "America/New_York", x: 506, y: 165 },
  { city: "Los Angeles", tz: "America/Los_Angeles", x: 321, y: 200 },
  { city: "London", tz: "Europe/London", x: 790, y: 115 },
  { city: "Berlin", tz: "Europe/Berlin", x: 844, y: 106 },
  { city: "Moscow", tz: "Europe/Moscow", x: 923, y: 97 },
  { city: "Dubai", tz: "Asia/Dubai", x: 1031, y: 253 },
  { city: "Beijing", tz: "Asia/Shanghai", x: 1261, y: 168 },
  { city: "Tokyo", tz: "Asia/Tokyo", x: 1352, y: 190 },
  { city: "Sydney", tz: "Australia/Sydney", x: 1417, y: 593 }
];

function renderClocks(){
  const $container = $("#mapContainer").empty();
  clocks.forEach(c=>{
    const $card = $(`
      <div class="clock-card ${c.local?'local':''}" id="clock-${c.city.replace(/\s/g,'')}">
        <div class="clock-time">--:--:--</div>
        <div class="clock-city">${c.city}</div>
      </div>
    `).css({left: c.x+'px', top: c.y+'px'});
    $container.append($card);
  });
}

function updateClocks(){
  clocks.forEach(c=>{
    const now = new Date().toLocaleTimeString('en-US',{timeZone:c.tz,hour12:false});
    $(`#clock-${c.city.replace(/\s/g,'')} .clock-time`).text(now);
  });
}

$(function(){
  renderClocks();
  updateClocks();
  setInterval(updateClocks,1000);
});
</script>
</body>
</html>

